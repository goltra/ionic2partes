{"version":3,"sources":["../../src/model/settings.ts","../../src/pages/estadisticas/estadisticas.ts","../../src/pages/clientes/cliente-editar.component.ts","../../src/service/cliente.service.ts","../../src/pages/parte/parte-editar.component.ts","../../node_modules/@angular/core/@angular lazy","../../src/service/estadisticas.service.ts","../../src lazy","../../src/service/varios.service.ts","../../src/provider/estadisticas.provider.ts","../../src/pages/home/home.ts","../../src/model/cliente.ts","../../src/model/parte.ts","../../src/pages/parte/parte-fotos.ts","../../src/pages/settings-component/settings-component.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../node_modules/moment/locale ^/.//.*$","../../src/app/app.component.ts","../../src/model/photo.ts","../../src/provider/database.provider.ts","../../src/service/settings.service.ts","../../src/pages/clientes/cliente-list.component.ts","../../src/service/parte.service.ts","../../src/pages/parte/parte-list.component.ts"],"names":[],"mappings":"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AAY;YACZ,oEAAM;YACN,2EAAS;YACT,wEAAQ;YACR,oFAAa;YACb,2EAAkB;YAClB,EAAC,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,yEAAiB,EAAC,CAAC;KACxD,CAAC;;GACW,SAAS,CAIrB;AAJqB;;;;;;;;AC1FtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"main.js","sourcesContent":["\nexport class Settings{\n\n  public serie: string;\n  public empresa: string;\n  public direccion: string;\n  public localidad: string;\n  public provincia: string;\n  public cp: string;\n  public cif: string;\n  public email: string;\n  public tecnico: string;\n  public imagen: string;\n  public imagenBase64: string;\n\n  contructor(){\n      this.imagen = \"\";\n      this.imagenBase64 = \"\";\n  }\n  /** Devuelve el objeto del tipo Settings recibiendo un objeto generico */\n  static inicializa(values:Object): Settings {\n      // console.log(\"parte.inicializa\");\n      // console.log(values);\n      try {\n          let setting= new Settings();\n          // console.log(\"parte inicializado a null\")\n\n          for(let p in values){\n              if(Object.getOwnPropertyDescriptor(values, p)!=undefined ){\n                 setting[p] = values[p];\n              }\n          }\n          // console.log(\"parte despues del for\")\n          // console.log(parte);\n          return setting;\n      } catch (error) {\n          alert (\"Settings.inicializa \" + error);\n          return null;\n      }\n  }\n  get nombreCompleto(): string{\n    return this.empresa + ' - ' + this.cif;\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/settings.ts","import { Settings } from './../../model/settings';\nimport { EstadisticasService } from './../../service/estadisticas.service';\n// import { Chart } from 'chart.js';\nimport { Component, ViewChild, OnChanges } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { EstadisticasProvider } from './../../provider/estadisticas.provider';\nimport * as moment from 'moment';\nimport 'moment/locale/es';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\n\ndeclare let Chart;\n\n/*\n  Generated class for the Estadisticas page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-estadisticas',\n  templateUrl: 'estadisticas.html'\n})\nexport class EstadisticasPage {\n  public numpartes: any;\n  //public numpartesdias: any;\n  public numparteshoy: any;\n  public numpartesdelasemana: any;\n  public numpartesmes: any;\n  public numpartesanio: any;\n  barChart: any;\n  private estadistica: EstadisticasProvider;\n  public dias;\n\n  public datospromesa: Array<Array<any>>;\n  public termina;        \n  public etiquetas: Array<string>;\n  public datos: Array<string>;\n  public colorfondo: Array<string>;\n  public colorborde: Array<string>;\n  public imgChartBase64: String;\n  private settings: Settings;\n\n  \n   \n\n\n\n\n  @ViewChild('barCanvas') barCanvas;\n \n  \n\n  constructor(public navCtrl: NavController, public _estadistica: EstadisticasProvider, private screenOrientation: ScreenOrientation, public navParams: NavParams, public estadisticasServ: EstadisticasService) {\n    this.datospromesa = [this.etiquetas,this.datos,this.colorfondo,this.colorborde];\n     this.etiquetas = [];\n     this.datos = [];\n     this.colorfondo = [];\n     this.colorborde = [];\n\n    this.dias = 5; // Días a mostar en las estadisticas\n    this.estadistica = _estadistica;\n\tthis.estadistica.numeropartes().then(data => {\n\t\t\tthis.numpartes = data;\n            });\n    /*this.estadistica.numeropartesdias(1).then(data => {\n\t\t\tthis.numpartesdias = data;\n            });*/\n    this.estadistica.numeropartesdeldia(moment()).then(data => {\n\t\t\tthis.numparteshoy = data;\n            });\n    this.estadistica.numeropartesdelasemana(moment()).then(data => {\n\t\t\tthis.numpartesdelasemana = data;\n            });\n    this.estadistica.numeropartesdelmes(moment()).then(data => {\n\t\t\tthis.numpartesmes = data;\n            });\n    this.estadistica.numeropartesdelanio(moment()).then(data => {\n\t\t\tthis.numpartesanio = data;\n            });\n  }\n\n  ionViewDidLoad() {\n\n   this.estadisticasdia(this.dias);\n\n   // detect orientation changes\n    this.screenOrientation.onChange().subscribe(\n       () => {\n           console.log(\"Orientation Changed\");\n       }\n    );\n\n   \n  }\n\n  \n\n \n\n  estadisticasdia(dias): Promise<any> {\n\t\treturn new Promise((resolve) => { \n    \n           // this.datospromesa = [this.etiquetas,this.datos,this.colorfondo,this.colorborde];\n            let colorresto = 'rgba(102,178,255,0.5)';\n            let colorhoy = 'rgba(200,50,78,0.5)';\n            let colorborderesto = 'rgba(0,128,255,1)';\n            let colorbordehoy = 'rgba(150,13,78,1)';\n            dias--;\n            console.log(\"DIA - \"+dias);\n                        if(dias>=0){\n                        let fechadia = moment().subtract(dias, 'days');\n                        this._estadistica.numeropartesdeldia(fechadia).then(data => {  \n\n                            console.log(\"ESPERANDO RECIBIR DATO\");\n                            this.datos.push(data);\n                           // console.log(\"Datos[\"+dias+\"] -> \"+this.datos[dias]);\n                            let diasemana = fechadia.format(\"ddd, D, MMM\");\n                            this.etiquetas.push(diasemana);\n                             if(fechadia.isSame(moment(),'day')){\n                            console.log(\"La fecha es hoy\");\n                            this.colorfondo.push(colorhoy);\n                            this.colorborde.push(colorbordehoy);\n                            } else {\n                                //console.log(\"Las fechas no coinciden\");\n                                this.colorfondo.push(colorresto);\n                                this.colorborde.push(colorborderesto);\n                                }\n                        this.estadisticasdia((dias));\n                        });\n                                \n                        } else{\n                            this.pintagrafica();\n                        }\n                        \n               \n                resolve(this.datospromesa);\n                \n             });\n  }\n\n\n//   estadisticasdia(dias): Promise<any> {\n// \t\treturn new Promise((resolve) => { \n    \n//             let datospromesa: Array<Array<any>>;\n//             let termina;        \n//             let etiquetas: Array<string>;\n//             let datos: Array<string>;\n//             let colorfondo: Array<string>;\n//             let colorborde: Array<string>;\n            \n//             etiquetas = [];\n//             datos = [];\n//             colorfondo = [];\n//             colorborde = [];\n            \n        \n//             datospromesa = [etiquetas,datos,colorfondo,colorborde];\n        \n        \n//             let colorresto = 'rgba(102,178,255,0.5)';\n//             let colorhoy = 'rgba(200,50,78,0.5)';\n          \n        \n//             let colorborderesto = 'rgba(0,128,255,1)';\n//             let colorbordehoy = 'rgba(150,13,78,1)';\n        \n//             for (let i = 0; i < dias; i++) {\n//                         //console.log(\"Resto \"+i+ \"dias\");\n//                         let fechadia = moment().subtract(i, 'days');\n//                         let diasemana = fechadia.format(\"ddd, D, MMM\");\n//                         etiquetas.push(diasemana);\n//                         this._estadistica.numeropartesdeldia(fechadia).then(data => {\n                            \n//                             console.log(\"ESPERANDO RECIBIR DATO\");\n                            \n//                             //console.log(\"Data -> \"+data);\n//                             datos.push(data);\n//                             console.log(\"Datos[\"+i+\"] -> \"+datos[i]);\n//                         });\n//                         if(i==0){\n//                             //console.log(\"La fecha es hoy\");\n//                             colorfondo.push(colorhoy);\n//                             colorborde.push(colorbordehoy);\n//                         } else {\n            \n//                                 //console.log(\"Las fechas no coinciden\");\n//                                 colorfondo.push(colorresto);\n//                                 colorborde.push(colorborderesto);\n//                         }\n                        \n                      \n//                         }\n               \n//                 resolve(datospromesa);\n                \n//              });\n//   }\n    pintagrafica(){ // num -> numero de dias a pintar\n        \n       // this.estadisticasdia(num).then(data => {\n       \n        \n        console.log(\"ENTRO A PINTAR LA GRAFICA\");\n        this.barChart = new Chart(this.barCanvas.nativeElement, {\n                   type: 'bar',\n                   responsive: true,\n            data: {\n                labels: this.etiquetas,\n                datasets: [{\n                    label: 'Número de partes',\n                    data: this.datos,\n                    backgroundColor: \n                       this.colorfondo,\n                    borderColor: this.colorborde,\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                maintainAspectRatio: false,\n                responsive: true,\n                scales: {\n                    yAxes: [{\n                        ticks: {\n                            fontSize: 10,\n                            beginAtZero:true,\n                            fixedStepSize: 1\n                        },\n                    }],\n                    xAxes: [{\n                        ticks: {\n                            fontSize: 10,\n                            beginAtZero:true,\n                            fixedStepSize: 1\n                        },\n                    }]\n                },\n                legend: {\n                    fontSize: 10\n                },\n                animation: {\n                     onComplete: function(){\n                        console.log(\"TERMINO LA ANIMCAION DE LA GRAFICA\");\n                        //this.sacoImagenGrafica();\n                    }\n                }\n            }\n\n           \n \n            });\n        // console.log(\"CONVIERTO GRAFICA A IMG 64\");\n        // this.imgChartBase64 = this.barChart.toBase64Image();\n        // console.log(this.imgChartBase64);\n        \n       // this.barChart.onAnimationComplete(this.imgChartBase64 = this.barChart.toBase64Image());\n        \n        \n        // });\n    }\n\n    enviarEmail(){\n    console.log('envia email');\n\n    console.log(\"CONVIERTO GRAFICA A IMG 64\");\n        this.imgChartBase64 = this.barChart.toBase64Image();\n        console.log(this.imgChartBase64);\n    \n    this.estadisticasServ.cargoSettings().then(data => {\n            this.settings = data;\n            //console.log(data);\n            console.log(\"Tecnico -> \"+this.settings.tecnico);\n            console.log(\"IMG BASE 64 GRAFICA -> \"+this.imgChartBase64); \n            this.estadisticasServ.enviaPorEmail(this.settings,this.imgChartBase64,this.numpartesanio,this.numparteshoy,this.numpartesdelasemana,this.numpartesmes);\n        });\n  }\n\n\n  \n}\n\n\n\n    // this.barChart = new Chart(this.barCanvas.nativeElement, {\n     \n    //        type: 'bar',\n    // data: {\n    //     labels: etiquetas,\n    //     datasets: [{\n    //         label: 'Número de partes',\n    //         data: datos,\n    //         backgroundColor: \n    //             colorfondo,\n    //         borderColor: colorborde,\n    //         borderWidth: 1\n    //     }]\n    // },\n    // options: {\n    //     scales: {\n    //         yAxes: [{\n    //             ticks: {\n    //                 beginAtZero:true,\n    //                 fixedStepSize: 1\n    //             }\n    //         }]\n    //     }\n    // }\n \n    //     });\n\n  \n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/estadisticas/estadisticas.ts","import { Component } from '@angular/core';\nimport { Cliente } from '../../model/cliente'; //si pongo \"/cliente\" da error , no se pq\nimport { NavController, NavParams } from 'ionic-angular';\nimport { ClienteService } from '../../service/cliente.service';\nimport { ClienteListComponent } from './cliente-list.component';\nimport { VariosService } from '../../service/varios.service';\n\nimport {\n\n    FormBuilder,\n    FormGroup,\n    Validators,\n} from '@angular/forms';\n\ndeclare var window;\ndeclare var cordova;\n@Component({\n    templateUrl: 'cliente-editar.html',\n    providers: [ClienteService],\n})\n\nexport class ClienteEditarComponent {\n\n    public myForm: FormGroup;\n    cliente: Cliente;\n\n    constructor(private _nav: NavController, private _navParams: NavParams,\n        private fb: FormBuilder,\n        private clienteService: ClienteService,\n        private _varios: VariosService) {\n        let params = _navParams;\n        this.cliente = new Cliente();\n\n        if (params.data.length > 0) {\n            this.cliente = Cliente.inicializa(params.data[0]);\n        }\n        console.log(\"editando cliente id \" + this.cliente.id);\n        this.myForm = this.fb.group({\n            'id': [this.cliente.id],\n            'nombre': [this.cliente.nombre, Validators.required],\n            'personaContacto': [this.cliente.personaContacto],\n            'telefono': [this.cliente.telefono, Validators.pattern(\"[0-9]{9}\")],\n            'telefono2': [this.cliente.telefono2, Validators.pattern(\"[0-9]{9}\")],\n            'email': [this.cliente.email],\n            'direccion': [this.cliente.direccion],\n            'poblacion': [this.cliente.poblacion],\n            'provincia': [this.cliente.provincia],\n            'cif': [this.cliente.cif],\n            'observaciones': [this.cliente.observaciones]\n            \n        });\n\n    }\n    llama() {\n        if (this.cliente.telefono !== null && this.cliente.telefono.length > 0) {\n            console.log(\"Llamando al \" + this.cliente.telefono);\n            // window.open( \"tel:\" + this.cliente.telefono);\n            cordova.InAppBrowser.open(\"tel:\" + this.cliente.telefono, \"_system\", \"location=true\");\n        } else {\n            console.log(\"No es un teléfono válido para llamar\");\n        }\n    }\n    cancelar() {\n        this._nav.pop();\n    }\n\n    onSubmit() {\n        let f = this.myForm.value;\n\n\n\n        this.clienteService.actualizaCliente(f.id, f.nombre, f.personaContacto, f.telefono, f.telefono2, f.email, f.direccion, f.poblacion, f.provincia, f.cif, f.observaciones).then(\n            (data) => {\n                this._varios.showToast(\"Cliente guardado correctamente\", \"top\");\n            },\n            (error) => {\n                //console.log('Error cliente-editar.component ' );\n                //console.log(error);\n            }\n        );\n\n        this._nav.setRoot(ClienteListComponent);\n    }\n} \n\n\n// WEBPACK FOOTER //\n// ./src/pages/clientes/cliente-editar.component.ts","import {Injectable} from '@angular/core';\nimport {Platform} from 'ionic-angular';\nimport { DatabaseProvider } from '../provider/database.provider';\n\n@Injectable()\n\nexport class ClienteService{\n    private db: DatabaseProvider;\n\n\n    constructor(private platform:Platform,_db:DatabaseProvider){\n       this.db = _db;\n       console.log(this.db);\n\n        // this.db.openDatabase({\n        // name: 'data.db',\n        // location: 'default' // the location field is required\n        // }).then(() => {\n        // this.db.executeSql('create table danceMoves(name VARCHAR(32))', {}).then(() => {\n\n        // }, (err) => {\n        // console.error('Unable to execute sql: ', err);\n        // });\n        // }, (err) => {\n        // console.error('Unable to open database: ', err);\n        // });\n        /*this.db.query('CREATE TABLE IF NOT EXISTS cliente (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre TEXT, telefono TEXT);').then(\n                    (data)=>{\n                        console.log(\"Crear tabla cliente\")\n                    },\n                    (error)=>{\n                        console.log(\"Error al crear la tabla cliente: \");\n                        console.log(error);\n                    }\n\n        );*/\n    }\n\n\n    listaClientes(){\n         let sql = 'Select * from cliente';\n         console.log(this.db);\n         return this.db.query(sql);\n         //return this.db.executeSql(sql,[]);\n        // return this.storage.query(sql);\n\n    }\n\n    borrarCliente(id:number){\n         let sql: string;\n         sql = 'delete from cliente where id=?'\n         return this.db.query(sql,[id]);\n        // return this.storage.query(sql,[id]);\n    }\n\n    actualizaCliente(id:number=null, nombre: string, personaContacto: string, telefono:string,  telefono2: string, email: string, direccion: string, poblacion: string, provincia: string, cif: string, observaciones: string) {\n        let sql: string;\n        if(id==null){\n            sql = 'INSERT INTO cliente (nombre, personaContacto, telefono, telefono2, email, direccion, poblacion, provincia, cif, observaciones) VALUES (?,?,?,?,?,?,?,?,?,?)';\n            return this.db.query(sql,[nombre, personaContacto, telefono, telefono2, email, direccion, poblacion, provincia, cif, observaciones]);\n            //return this.storage.query(sql,[nombre,telefono]);\n        }else{\n            sql = \"Update cliente set nombre=?,personaContacto=?, telefono=?, telefono2=?, email=?, direccion=?, poblacion=?, provincia=?, cif=?, observaciones=? where id=?\"\n            return this.db.query(sql,[nombre, personaContacto, telefono, telefono2, email, direccion, poblacion, provincia, cif, observaciones, id]);\n        }\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/cliente.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { Parte } from '../../model/parte';\nimport { NavController, NavParams, AlertController } from 'ionic-angular';\nimport {\n    FormBuilder,\n    FormGroup,\n} from '@angular/forms';\nimport { ParteService } from '../../service/parte.service';\nimport { VariosService } from '../../service/varios.service';\nimport { ParteListComponent } from './parte-list.component';\nimport { ParteFotosPage } from './parte-fotos';\nimport { SignaturePad } from 'angular2-signaturepad/signature-pad';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\n@Component({\n    templateUrl: 'parte-editar.component.html',\n})\n\n\nexport class ParteEditarComponent {\n    public myForm: FormGroup;\n    public firmaImg: string;\n    private nuevo: boolean;\n    parte: Parte;\n    public fotos: Array<{ id: number, base64: string, nombre: string }> = [];\n    @ViewChild(SignaturePad) signaturePad: SignaturePad;\n\n    constructor(private _nav: NavController, private _navParams: NavParams,\n        private fb: FormBuilder,\n        private camera: Camera,\n        private Keyboard: Keyboard,\n        private parteService: ParteService,\n        private _varios: VariosService,\n        public alertCtrl: AlertController) {\n\n        let params = _navParams;\n        this.parte = new Parte();\n        let clienteid: number;\n\n        if (!isNaN(Number(params.get('clienteid'))) && params.get('nombre')) { //para checkear que viene un valor numerico en el parametro\n            //este caso siempre se debe dar cuando se trata de un nuevo parte.\n            console.log('Nuevo parte');\n            this.nuevo = true;\n            clienteid = params.get('clienteid');\n            this.parte.nombre = params.get('nombre');\n            this.parte.clienteid = clienteid;\n            this.parte.fecha = _varios.getNowDateIso();\n            this.parte.horaini = this.parte.fecha;\n            this.parte.horafin = this.parte.fecha;\n        } else {\n            console.log('Parte existente');\n            this.nuevo = false;\n            this.parte = Parte.inicializa(params.data[0]);\n        }\n\n        this.myForm = this.fb.group({\n            'id': [this.parte.id],\n            'clienteid': [this.parte.clienteid],\n            'fecha': [this.parte.fecha],\n            'horaini': [this.parte.horaini],\n            'horafin': [this.parte.horafin],\n            'trabajorealizado': [this.parte.trabajorealizado],\n            'personafirma': [this.parte.personafirma],\n            'firma': [this.parte.firma],\n        });\n\n\n    }\n    cancelar() {\n        this._nav.pop();\n    }\n    verFotos(){\n        this._nav.push(ParteFotosPage,{parteid: this.parte.id});\n    }\n\n    onSubmit(goList: boolean = true) {\n        console.log('submit');\n        let f = this.myForm.value;\n        this.parteService.actualizaParte(f, this.fotos).then((parteid)=>{\n            console.log('Guardado, el parte id es ');\n            console.log(parteid);\n            this.parte.id=parteid;\n        });\n        this.fotos = [];\n        if(goList)\n            this._nav.setRoot(ParteListComponent);\n\n    }\n\n    signaturePadOptions: Object = { // passed through to szimek/signature_pad constructor\n        'minWidth': 0.5,\n        'maxWidth': 2,\n        'canvasWidth': 380,\n        'canvasHeight': 300,\n    };\n    drawStart() {\n        console.log(\"comieza a firmar y oculto teclado\");\n        this.Keyboard.close();\n    }\n    ngAfterViewInit() {\n        // this.signaturePad is now available\n        this.signaturePad.options = this.signaturePadOptions; // set szimek/signature_pad options at runtime\n        this.signaturePad.clear(); // invoke functions from szimek/signature_pad API\n        if (this.parte.firma !== null) {\n            this.signaturePad.fromDataURL(this.parte.firma);\n            this.firmaImg = this.parte.firma;\n        }\n    }\n\n    doOnEnd() {\n        // will be notified of szimek/signature_pad's onEnd event\n        this.firmaImg = this.signaturePad.toDataURL();\n        this.myForm.value.firma = this.firmaImg;\n        this.onSubmit();\n    }\n    limpiarFirma() {\n        this.signaturePad.clear();\n    }\n    borrarFirma() {\n        this.myForm.value.firma = null;\n        this.firmaImg = null;\n        //inicializo de nuevo el signaturPad, no se porqu tras estar oculto\n        //y ponerlo visible el canvas pierde el height y el width\n        this.signaturePad.options = this.signaturePadOptions;\n        this.signaturePad.clear();\n    }\n\n    hacerFoto() {\n        let options = {\n            quality: 70,\n            targetWidth: 1024,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            sourceType: this.camera.PictureSourceType.CAMERA,\n            encodingType: this.camera.EncodingType.JPEG,\n            correctOrientation: true\n        }\n        console.log('hacerFoto()');\n        this.camera.getPicture(options).then(imgB64 => {\n            console.log('foto');\n            let nomFichero: string = '';\n            let alert = this.alertCtrl.create({\n                title: 'Indique un nombre para el fichero',\n                inputs: [{\n                    name: 'nombre',\n                    placeholder: 'foto'\n                }],\n                buttons: [{\n                    text: 'Aceptar',\n                    handler: data => {\n                        nomFichero = (data.nombre.length>0) ? data.nombre : 'Foto' ;\n                        console.log('aceptado');\n                        if (nomFichero.length > 0) {\n                            //el id 0 indica que es una foto nueva\n                            imgB64=\"data:image/jpeg;base64,\" + imgB64;\n                            this.fotos.push({ id: 0, base64: imgB64, nombre: nomFichero });\n                            this.onSubmit(false);\n                        }\n                    }\n                },\n                {\n                    text: 'Cancelar'\n                }]\n            });\n            alert.present();\n        },\n            error => {\n                console.log('error obteniendo foto');\n                console.log(error);\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/parte/parte-editar.component.ts","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 155;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 155\n// module chunks = 0","\nimport { Injectable } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { Parte } from '../model/parte';\nimport { Settings } from '../model/settings';\nimport { VariosService } from './varios.service';\nimport { SettingsService } from './settings.service';\nimport { EmailComposer } from '@ionic-native/email-composer';\nimport { DatabaseProvider } from '../provider/database.provider';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { File } from '@ionic-native/file';\nimport { Photo } from '../model/photo';\nimport * as moment from 'moment';\nimport 'moment/locale/es';\n\ndeclare let jsPDF;\ndeclare var cordova: any;\ndeclare let Chart;\n\n@Injectable()\n\nexport class EstadisticasService {\n  private settings: Settings;\n  private dirFiles: string;\n  private db;\n\n  constructor(private _varios: VariosService, _db: DatabaseProvider, private platform: Platform, private s: SettingsService, private emailComposer: EmailComposer, private socialSharing: SocialSharing, private file: File) {\n    this.db = _db;\n    this.dirFiles = \"\";\n    \n\n\n    //seteo directorio para guardar ficheros.\n    if (this.platform.is(\"ios\")) {\n      console.log('Directorio para ios');\n      this.dirFiles = cordova.file.tempDirectory;\n    }\n\n    if (this.platform.is(\"android\")) {\n      console.log(\"Directorio para android\");\n      this.dirFiles = cordova.file.externalDataDirectory;\n    }\n    console.log(this.dirFiles);\n  }\n\n    \n  cargoSettings(): Promise<any> {\n\t\tconsole.log(\"Cargo los settings\");\n\t\treturn new Promise((resolve) => {\n      this.s.getData().then((data) => {\n          let tmp = JSON.parse(data);\n          console.log(\"cargo valores settings\");\n          resolve(Settings.inicializa(tmp));\n          \n        }\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR Cargando los settings!!\");\n          resolve(null);\n        });\n\t\t});\n\t}\n  \n\n  \n\n  \n  \n  enviaPorEmail(settings: any, barChart: String, partesAnio: number, partesHoy: number, partesSemana: number, partesMes: number) {\n    //let msg:String; \n    let email;\n    var doc = new jsPDF('landscape');\n    let asuntoEmail: String = \"\";\n\n    this.settings = settings;\n  \n    console.log(\"Compruebo si el componente EmailComposer está disponible.\");\n    console.log(\"Tec -> \"+this.settings.tecnico);\n    this.emailComposer.isAvailable().then(\n      (available) => {\n        console.log(\"Email composer disponible\");\n        console.log(\"Texto que voy a incluir en pdf\");\n        console.log(this.settings);\n        if (this.settings != undefined) {\n          console.log('settings no es undefined');\n          console.log(\"Seteo texto a negrita\");\n          doc.setFontStyle('bold');\n          doc.text(20, 20, \"Fecha: \" +moment().format('DD MMMM YYYY'));\n          doc.text(20, 30, \"Número de partes hoy : \" +partesHoy);\n          doc.text(20, 40, \"Número de partes esta semana: \" +partesSemana);\n          doc.text(20, 50, \"Número de partes este mes \" +partesMes);\n          doc.text(20, 60, \"Número de partes este año: \" +partesAnio);\n          console.log(this.settings.tecnico);\n          if (this.settings.tecnico != undefined || this.settings.tecnico != \"\"){\n            doc.text(20, 70, \"Trabajador: \" + this.settings.tecnico);\n            asuntoEmail = \" de \"+this.settings.tecnico; // Esto es para luego rellenar el asunto del email\n          } \n\n          doc.text(20, 80, \"Gráfica:\");\n          console.log(\"seteo fuente a normal\");\n          doc.setFontStyle('normal');\n         if (barChart != undefined) {\n           console.log(\"La grafica está defininda, procedemos a pintarla\");\n            doc.addImage(barChart, \"PNG\", 4, 100); // izq, arriba, ancho, alto\n          }\n         // doc.text(20, 90, \"Número de partes este mes \" +partesMes);\n\n          \n          doc.setFontSize(8);\n          let tmpText: string;\n          tmpText = \"\";\n\n          if (this.settings != undefined) {\n            if (this.settings.empresa != null)\n              tmpText = this.settings.empresa + \"  \";\n            if (this.settings.cif != null)\n              tmpText = tmpText + this.settings.cif + \"  \";\n            if (tmpText != \"\")\n              doc.text(20, 275, \"Empresa proveedora de servicios: \" + tmpText);\n          }\n\n          console.log(\"guardo el contenido del pdf (blob) en una variable\");\n          let pdfOutput = doc.output('blob');\n\n          //preparamos el email según lleve o no adjunto (firma)\n          console.log(\"PREPARAMOS EL EMAIL\");\n          if (this.platform.is(\"cordova\")) {\n            console.log('Creo el pdf');\n            let tmpNom: string = Math.random().toString().replace('.', '');\n            tmpNom = tmpNom + 'partesTrabajoPdf.pdf';\n\n            tmpNom = 'estadisticasTrabajoPdf.pdf';\n            this.file.writeFile(this.dirFiles, tmpNom, pdfOutput, { replace: true }).then(\n              (ok) => {\n                console.log(\"fichero guardado en \" + this.dirFiles);\n                console.log(ok);\n                \n\n\n                email = {\n                  to: '',\n                  subject: 'Estadísticas de partes de tabajo'+asuntoEmail,\n                  body: <any>\"Adjuntamos estadísticas\",\n                  isHtml: true,\n                  attachments: [this.dirFiles + tmpNom]\n                };\n\n                this.emailComposer.open(email).then(\n                  (sended) => {\n                    console.log(\"email enviado \");\n                    console.log(sended);\n                    this._varios.showToast(\"Email enviado\", \"top\");\n                  },\n                  (error) => {\n                    console.log(\"error enviando mensaje \");\n                    this._varios.showToast(\"Se produjo un error al enviar el Email\", \"top\");\n                    console.log(error);\n                  }\n                );\n              },\n              (err) => {\n                console.log(\"error al guardar el fichero\");\n                console.log(err);\n              }\n            );\n          } else {\n            console.log(\"pdf(): cordova no disponible\");\n          }\n        }\n      },\n      (error) => {\n        console.log(\"EmailComposer no está disponible\");\n        console.log(\"EmailComposer: \");\n        console.log(error);\n      }\n    );\n\n  }\n\n  // enviaPorEmail(barChart: any, partesTotal: number, partesHoy: number, partesSemana: number, partesMes: number)  {\n  //   //let msg:String; \n\n    \n\n  //   /////////////////\n  //   let email;\n  //   var doc = new jsPDF();\n  //   let serieId: string;\n  //   console.log(\"Compruebo si el componente EmailComposer está disponible.\");\n  //   EmailComposer.isAvailable().then(\n  //     (available) => {\n  //       console.log(\"Email composer disponible\");\n  //       console.log(\"Texto que voy a incluir en pdf\");\n  //       console.log(this.settings);\n        \n  //       if (this.settings != undefined) {\n  //         console.log('settings no es undefined');\n  //         console.log(this.settings.serie);\n\n  //         /*if (this.settings.serie != undefined) {\n  //           serieId = (this.settings.serie.length > 0 ? (this.settings.serie + \"/\" + String(parte.id)) : String(parte.id));\n  //         } else {\n  //           serieId = String(parte.id);\n  //         }*/\n  //         if (this.settings.imagenBase64 != undefined && this.settings.imagenBase64.length > 0) {\n  //           doc.addImage(this.settings.imagenBase64, \"JPEG\", 140, 20);\n  //         }\n  //         console.log(\"Seteo texto a negrita\");\n  //         doc.setFontStyle('bold');\n  //         doc.text(20, 20, \"Parte de Trabajo Número \" + serieId);\n  //         /*doc.text(20, 30, \"Cliente: \" + parte.nombre);\n  //         doc.text(20, 40, \"Fecha: \" + parte.fechaformato);\n  //         doc.text(20, 50, \"Horas: \" + parte.horainiformato + ' a ' + parte.horafinformato);*/\n\n  //         if (this.settings.tecnico != undefined)\n  //           doc.text(20, 60, \"Le atendió: \" + this.settings.tecnico);\n\n  //         doc.text(20, 70, \"Trabajo Realizado\");\n  //         console.log(\"seteo fuente a normal\");\n  //         doc.setFontStyle('normal');\n  //         //console.log(\"parte.trabajorealizado -> \" + (parte.trabajorealizado == null ? \"\" : parte.trabajorealizado));\n  //         console.log(\"parto el texto trabajorealizado en lineas \");\n  //         //doc.text(20, 80, doc.splitTextToSize((parte.trabajorealizado == null ? \"\" : parte.trabajorealizado), 180));\n\n  //         console.log(\"compruebo si hay firma\");\n  //         /*if (parte.firma != null) {\n  //           doc.setFontStyle('bold');\n  //           doc.text(20, 200, \"Firmado por: \");\n  //           doc.setFontStyle('normal');\n  //           if (parte.personafirma != null)\n  //             doc.text(20, 210, parte.personafirma);\n  //           console.log(\"añado la firma al pdf\");\n  //           doc.addImage(parte.firma, 'PNG', 20, 220, 50, 50);\n  //         }*/\n  //         doc.setFontSize(8);\n  //         let tmpText: string;\n  //         tmpText = \"\";\n\n  //         if (this.settings != undefined) {\n  //           if (this.settings.empresa != null)\n  //             tmpText = this.settings.empresa + \"  \";\n  //           if (this.settings.cif != null)\n  //             tmpText = tmpText + this.settings.cif + \"  \";\n  //           if (tmpText != \"\")\n  //             doc.text(20, 275, \"Empresa proveedora de servicios: \" + tmpText);\n  //         }\n\n  //         console.log(\"guardo el contenido del pdf (blob) en una variable\");\n  //         let pdfOutput = doc.output('blob');\n\n  //         //preparamos el email según lleve o no adjunto (firma)\n  //         if (this.platform.is(\"cordova\")) {\n  //           console.log('Creo el pdf');\n  //           let tmpNom: string = Math.random().toString().replace('.', '');\n  //           tmpNom = tmpNom + 'partesTrabajoPdf.pdf';\n\n  //           tmpNom = 'partesTrabajoPdf.pdf';\n  //           File.writeFile(this.dirFiles, tmpNom, pdfOutput, { replace: true }).then(\n  //             (ok) => {\n  //               console.log(\"fichero guardado en \" + this.dirFiles);\n  //               console.log(ok);\n  //               email = {\n  //                 to: '',\n  //                 subject: 'Parte de trabajo nº ' + serieId,\n  //                 body: <any>\"Adjuntamos su parte de trabajo\",\n  //                 isHtml: true,\n  //                 attachments: [this.dirFiles + tmpNom]\n  //               };\n\n  //               EmailComposer.open(email).then(\n  //                 (sended) => {\n  //                   console.log(\"email enviado \");\n  //                   console.log(sended);\n  //                   this._varios.showToast(\"Email enviado\", \"top\");\n  //                 },\n  //                 (error) => {\n  //                   console.log(\"error enviando mensaje \");\n  //                   this._varios.showToast(\"Se produjo un error al enviar el Email\", \"top\");\n  //                   console.log(error);\n  //                 }\n  //               );\n  //             },\n  //             (err) => {\n  //               console.log(\"error al guardar el fichero\");\n  //               console.log(err);\n  //             }\n  //           );\n  //         } else {\n  //           console.log(\"pdf(): cordova no disponible\");\n  //         }\n  //       }\n  //     },\n  //     (error) => {\n  //       console.log(\"EmailComposer no está disponible\");\n  //       console.log(\"EmailComposer: \");\n  //       console.log(error);\n  //     }\n  //   );\n\n  // }\n\n  /*sharePhoto(photos: Array<Photo>, idParte: number, nomcliente: string) {\n\n    let body = \"Cliente: \" + nomcliente;\n    let subject = \"Foto del parte: \" + idParte;\n    let imgB64Ray: Array<any> = [];\n    body += \" - Parte nº \" + idParte;\n\n    console.log(\"fotos recibida\");\n    for (let photo of photos) {\n      //añado cada foto a un array\n      let tmpB64 = photo.base64.split(\",\");\n      imgB64Ray.push({ 'nombre': photo.nombre, 'base64': tmpB64[1] });\n    }\n\n    //guardo las imagenes en un directorio para enviarlas luego\n    this.imgToArrayAndSave(imgB64Ray).then((data) => {\n      console.log('Procedo a compartir');\n      return (data);\n    }).then((data) => {\n      console.log(data);\n      SocialSharing.share(body, subject, data).then(\n        res => {\n          console.log('Comparto');\n          console.log(res);\n        }\n      ).catch(error => {\n        console.log('error compartiendo');\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log('Error');\n      console.log(error);\n    });\n  }*/\n\n  /*private imgToArrayAndSave(imgB64Ray): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let imgRay: Array<string>;\n      imgRay = [];\n\n      for (let img of imgB64Ray) {\n        let obj = this._varios.base64toBlob(img.base64, 'image\\jpg');\n        let preNombre = Math.random().toString().replace('.', '');\n        let nomTmp: string = preNombre + img.nombre + '.jpg';\n        imgRay.push(this.dirFiles + \"/\" + nomTmp);\n\n        File.writeFile(this.dirFiles, nomTmp, obj, { replace: true }).then(success => {\n          console.log('fichero guardado');\n          console.log(success);\n        }).catch(error => {\n          console.log('error al guardar el fichero');\n          reject(error);\n          console.log(error);\n        });\n      }\n      resolve(imgRay);\n      console.log('fin for');\n    });\n  }*/\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/estadisticas.service.ts","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 205;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 205\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { ToastController } from 'ionic-angular';\nimport { File } from '@ionic-native/file';\ndeclare let EXIF;\ndeclare var cordova: any;\n@Injectable()\n\nexport class VariosService {\n\n\n    constructor(private toastCtrl: ToastController, private file: File) {\n\n    }\n    showToast(mensaje: string, posicion: string, cssClass: string = \"toastMessage\", duration: number = 2000) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            position: posicion,\n            cssClass: cssClass,\n            duration: duration\n        });\n        toast.present();\n    }\n    /** Función que lista las bd. Solo probado con android. */\n    pathDatabasesSqlite() {\n        console.log('ubicación de las bases de datos SQLITE. Solo probado con Android');\n        this.file.listDir(cordova.file.applicationStorageDirectory, 'databases').then(\n            (files) => {\n                console.log('applicationStorageDirectory');\n                console.log(files);\n            },\n            (error) => {\n                console.log('error');\n                console.log(error);\n            }\n        );\n\n    }\n    /** Función que recibe la url de una imagen, un función a la que hacer el callback\n     * el tipo de imagen y el ancho máximo que debe tener esta.\n     * Si es necesario, la función rota la imagen.\n     * La función develve al callback la imagen en base64 para poder embeberla donde \n     * sea necesario.\n     */\n    // imgToBase64(url: string, callback, outputformat = 'image/jpeg', maxImgWidth: number = 0) {\n    //     //Declaración del  evento cuando seteamos la url del objeto Image \n    //     console.log('imgToBase64');\n    //     let img = new Image();\n    //     let base64img: string;\n\n    //     img.crossOrigin = 'anonymous';\n    //     img.onload = function () {\n    //         console.log('img.onload');\n    //         console.log(outputformat);\n    //         var factor: number = 1;\n    //         var canvas = <HTMLCanvasElement>document.createElement('CANVAS');\n    //         var ctx = canvas.getContext('2d');\n    //         var dataUrl: string;\n    //         var widthImg;\n    //         var heightImg;\n    //         var rotar: boolean = false;\n\n    //         //si maxImgWidth <> 0 entonces calculo un factor de redimensión.\n    //         if (maxImgWidth > 0) {\n    //             console.log(\"tamaño de la imagen: ancho \" + this.width + \" alto \" + this.height);\n    //             console.log('redimensiono el canvas con maxImgWidth recibido');\n    //             factor = this.width / maxImgWidth;\n    //             console.log(\"factor \" + factor);\n    //             console.log('dimensiones despues de resize ancho: ' + this.width / factor + ' - anchura: ' + this.height / factor);\n    //         }\n    //         widthImg = this.width / factor;\n    //         heightImg = this.height / factor;\n    //         canvas.height = heightImg;\n    //         canvas.width = widthImg;\n\n    //         EXIF.getData(this, function () {\n    //             var orientation = EXIF.getTag(this, \"Orientation\");\n    //             console.log(\"la orientación de la foto es : \" + orientation);\n    //             switch (orientation) {\n    //                 case 8:\n    //                     console.log('rotar');\n    //                     rotar = true;\n    //                     ctx.translate(canvas.width / 2, canvas.height / 2);\n    //                     ctx.rotate(90 * Math.PI / 180);\n    //                     break;\n    //                 case 3:\n    //                     console.log('rotar');\n    //                     rotar = true;\n    //                     ctx.translate(canvas.width / 2, canvas.height / 2);\n    //                     ctx.rotate(180 * Math.PI / 180);\n    //                     break;\n    //                 case 6:\n    //                     console.log('rotar');\n    //                     rotar = true;\n    //                     ctx.translate(canvas.width / 2, canvas.height / 2);\n    //                     ctx.rotate(-90 * Math.PI / 180);\n    //                     break;\n    //             }\n    //             if (rotar) {\n    //                 ctx.drawImage(img, -widthImg / 2, -heightImg / 2, widthImg, heightImg);\n    //                 dataUrl = canvas.toDataURL(outputformat);\n    //                 base64img = dataUrl;\n    //                 //base64img =  dataUrl.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n    //                 callback(base64img);\n    //             }\n    //         });\n    //         if (!rotar) {\n    //             ctx.drawImage(img, 0, 0, widthImg, heightImg);\n    //             dataUrl = canvas.toDataURL(outputformat);\n    //             base64img = dataUrl;\n    //             //base64img =  dataUrl.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n    //             callback(base64img);\n    //         }\n    //     }\n    //     /////////////////////////////////////////////////////////////////////\n    //     img.src = url;\n    // }\n    /**Funcion que devuelve la fecha actual con el formato ISO.\n     * Tras varias pruebas deduzco que el formato ISO no incluye la zona hoario por lo que siempre va a dar\n     * la hora sin incrementar ni decrementar por zonas. Por ese motivo se obtiene a parte el timezoneOffset\n     * y se suma a los minutos para finalmente devolver en formato ISO.\n     * Se usa el formato iso porque hay componentes de formularios de ionic (ion-datatime) que lo necesitan.\n     * return string\n     */\n    getNowDateIso(): string {\n        let now = new Date();\n        let timezoneOffset = (now.getTimezoneOffset() * -1);\n        let fechastr = new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours(), now.getMinutes() + timezoneOffset);\n        console.log(fechastr);\n\n        return fechastr.toISOString();\n    }\n    getNowDate() {\n        let now = new Date().toLocaleDateString();\n        return now.toString();\n    }\n    base64toBlob(base64Data, contentType) {\n        contentType = contentType || '';\n        var sliceSize = 1024;\n        var byteCharacters = atob(base64Data);\n        var bytesLength = byteCharacters.length;\n        var slicesCount = Math.ceil(bytesLength / sliceSize);\n        var byteArrays = new Array(slicesCount);\n\n        for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n            bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n        }\n        return new Blob(byteArrays, { type: contentType });\n    }\n    /**DE MOMENTON O SE USA PERO LA DEJO POR SI ACASO\n     * Funcion que devuelve la hora actual con el formato parsado en el \n       * pattenr. Por defecto es HH:mm 21:00\n        * return string\n        */\n    /**   getNowTime(pattern='HH:mm'): string{\n           let now=new Date();\n           let hora= new DatePipe();\n           let horastr = hora.transform(now,pattern);\n    \n           return horastr;\n       }\n        */\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/varios.service.ts","import { Injectable } from '@angular/core';\nimport { DatabaseProvider } from '../provider/database.provider';\nimport * as moment from 'moment';\nimport 'moment/locale/es';\n\ndeclare let Chart;\ndeclare var window: any;\n\n@Injectable()\nexport class EstadisticasProvider {\n\t\n\tprivate db: DatabaseProvider;\n\n\tconstructor(private _db: DatabaseProvider) {\n\t\t\n\t\tthis.db = _db;\n\n\t }\n\t\n\tnumeropartesdeldia(fechadia): Promise<any> {\n\t\tconsole.log(\"Obtencion de numero de partes del dia \"+fechadia);\n\t\treturn new Promise((resolve) => {\n\t\t\tlet sql: string;\n   \t\t    sql = 'Select parte.fecha as n from parte';\n\t\t\t\n\t\t\tthis.db.query(sql).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif(data.rows.length>0){\n        \t\t\t//console.log('cargando partes');\n\t\t\t\t\tlet nump: number = 0;\n\n       \t\t\t\t   for (let i = 0; i < data.rows.length; i++) {\n\t\t\t\t\t\t\t\tlet item = data.rows.item(i).n;\n\t\t\t\t\t\t\t\t//console.log(\"Item -> \"+item);\n\t\t\t\t\t\t\t\t if(fechadia.isSame(this.fechatomoment(item), 'day')){\n\t\t\t\t\t\t\t\t\t //console.log(\"LAS FECHAS COINCIDEN\");\t \n\t\t\t\t\t\t\t\t\tnump++;\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t  }\n\n       \t\t    \tconsole.log('Encontrados '+nump+' partes');\n\t\t\t\t\tresolve(nump);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tresolve(0);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR No se ha creado la base de datos!!\");\n          resolve(0);\n        });\n\t\t});\n\t}\n\n\tnumeropartesdelasemana(fechadia): Promise<any> {\n\t\t//console.log(\"Obtencion de numero de partes de la semana \"+fechadia);\n\t\treturn new Promise((resolve) => {\n\t\t\tlet sql: string;\n   \t\t    sql = 'Select parte.fecha as n from parte';\n\t\t\t\n\t\t\tthis.db.query(sql).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif(data.rows.length>0){\n        \t\t\t//console.log('cargando partes');\n\t\t\t\t\tlet nump: number = 0;\n\n       \t\t\t\t   for (let i = 0; i < data.rows.length; i++) {\n\t\t\t\t\t\t\t\tlet item = data.rows.item(i).n;\n\t\t\t\t\t\t\t//\tconsole.log(\"Semana fecha que paso -> \"+fechadia.format('WW'));\n\t\t\t\t\t\t\t//\tconsole.log(\"Semana del parte -> \"+this.fechatomoment(item).format('WW'));\n\t\t\t\t\t\t\t\tif((fechadia.format('WW'))==(this.fechatomoment(item).format(\"WW\"))) {\n\t\t\t\t\t\t\t\t//if(fechadia.isSame(this.fechatomoment(item), 'week')){\n\t\t\t\t\t\t\t\t//\t console.log(\"LAS SEMANAS COINCIDEN\");\t \n\t\t\t\t\t\t\t\t\tnump++;\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t  }\n\n       \t\t    \t//console.log('Encontrados '+nump+' partes');\n\t\t\t\t\tresolve(nump);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tresolve(0);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR No se ha creado la base de datos!!\");\n          resolve(0);\n        });\n\t\t});\n\t}\n\n\tnumeropartesdelmes(fechadia): Promise<any> {\n\t\tconsole.log(\"Obtencion de numero de partes del mes \"+fechadia);\n\t\treturn new Promise((resolve) => {\n\t\t\tlet sql: string;\n   \t\t    sql = 'Select parte.fecha as n from parte';\n\t\t\t\n\t\t\tthis.db.query(sql).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif(data.rows.length>0){\n        \t\t\t//console.log('cargando partes');\n\t\t\t\t\tlet nump: number = 0;\n\n       \t\t\t\t   for (let i = 0; i < data.rows.length; i++) {\n\t\t\t\t\t\t\t\tlet item = data.rows.item(i).n;\n\t\t\t\t\t\t\t\t//console.log(\"Item -> \"+item);\n\t\t\t\t\t\t\t\t if(fechadia.isSame(this.fechatomoment(item), 'month')){\n\t\t\t\t\t\t\t\t\t //console.log(\"LAS FECHAS COINCIDEN\");\t \n\t\t\t\t\t\t\t\t\tnump++;\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t  }\n\n       \t\t    \tconsole.log('Encontrados '+nump+' partes');\n\t\t\t\t\tresolve(nump);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tresolve(0);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR No se ha creado la base de datos!!\");\n          resolve(0);\n        });\n\t\t});\n\t}\n\n\tnumeropartesdelanio(fechadia): Promise<any> {\n\t\tconsole.log(\"Obtencion de numero de partes del año \"+fechadia);\n\t\treturn new Promise((resolve) => {\n\t\t\tlet sql: string;\n   \t\t    sql = 'Select parte.fecha as n from parte';\n\t\t\t\n\t\t\tthis.db.query(sql).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif(data.rows.length>0){\n        \t\t\t//console.log('cargando partes');\n\t\t\t\t\tlet nump: number = 0;\n\n       \t\t\t\t   for (let i = 0; i < data.rows.length; i++) {\n\t\t\t\t\t\t\t\tlet item = data.rows.item(i).n;\n\t\t\t\t\t\t\t\t//console.log(\"Item -> \"+item);\n\t\t\t\t\t\t\t\t if(fechadia.isSame(this.fechatomoment(item), 'year')){\n\t\t\t\t\t\t\t\t\t //console.log(\"LAS FECHAS COINCIDEN\");\t \n\t\t\t\t\t\t\t\t\tnump++;\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t  }\n\n       \t\t    \tconsole.log('Encontrados '+nump+' partes');\n\t\t\t\t\tresolve(nump);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tresolve(0);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR No se ha creado la base de datos!!\");\n          resolve(0);\n        });\n\t\t});\n\t}\n\n\tnumeropartesdias(dias): Promise<any>{\n\t\tconsole.log(\"Obtencion de numero de partes de los últimos \"+dias+ \"días.\");\n\t\treturn new Promise((resolve) => {\n\t\t\tlet sql: string;\n   \t\t    sql = 'Select parte.fecha as n from parte';\n\t\t\t\n\t\t\tthis.db.query(sql).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif(data.rows.length>0){\n        \t\t\t//console.log('cargando partes');\n\t\t\t\t\tlet nump: number = 0;\n\n       \t\t\t\t   for (let i = 0; i < data.rows.length; i++) {\n\t\t\t\t\t\t\t\tlet item = data.rows.item(i).n;\n\t\t\t\t\t\t\t\t//console.log(\"Item -> \"+item);\n\t\t\t\t\t\t\t\t if(this.entrefechas(this.fechatomoment(item), dias)){\n\t\t\t\t\t\t\t\t\tnump++;\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t  }\n\n       \t\t    \tconsole.log('Encontrados '+nump+' partes');\n\t\t\t\t\tresolve(nump);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tresolve(0);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR No se ha creado la base de datos!!\");\n          //console.log(error);\n          resolve(0);\n        });\n\t\t});\n\t}\n\n\tfechatomoment(fecha){\n\t\t//console.log(\"Fecha -> \"+fecha);\n\t\tlet f = new Date(fecha);\n\t\t//console.log(\"F -> \"+f);\n\t\tlet fechastr = f.toLocaleDateString();\n\t\t//console.log(\"Fechastr -> \"+fechastr);\n\t\tlet fechamoment = moment(f);\n\t\t//console.log(\"Moment -> \"+fechamoment);\n\t\tlet momento = fechamoment.format(\"YYYY-MM-DD HH:mm:ss\");\n\t\t//console.log(\"Momento -> \"+momento);\n\t\treturn fechamoment;\n\t  }\n\n\t  momenttofecha(fecha){\n\t\t//console.log(\"Moment -> \"+fecha);\n\t\tlet f = new Date(fecha);\n\t\t//console.log(\"Fecha -> \"+f);\n\t\treturn f;\n\t  }\n\t\n\tentrefechas(fecha, dias){ // Ver si la \"fecha\" esta entre los ultimos \"dias\" dias\n\t\tlet hoy = moment(); // Fecha actual\n\t\tlet diasantes = moment().subtract(dias, 'days'); // Fecha hace \"dias\" dias.\n\t\treturn fecha.isBetween(diasantes, hoy); // Si la fecha esta entre hoy y hace \"dias\" dias devuelvo true, si no, false\n\t}\n\t\n\tnumeropartes(): Promise<any> {\n\t\tconsole.log(\"Obtencion de numero total de partes actuales\");\n\t\tlet now = moment().format('LLLL');\n\t\tconsole.log(\"Hora actual -> \"+now);\n\t\treturn new Promise((resolve) => {\n\t\t\tlet sql: string;\n   \t\t    sql = 'Select count(parte.id) as n from parte';\n\n\t\t\tthis.db.query(sql).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif(data.rows.length>0){\n       \t\t   \t    console.log('Data row -> '+data.rows);\n        \t\t\tconsole.log('cargando partes');\n\t\t\t\t\tlet nump: number = data.rows.item(0).n;\n       \t\t    \tconsole.log('Encontrados '+nump+' partes');\n\t\t\t\t\tresolve(nump);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tresolve(0);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t  console.log(\"ERROR No se ha creado la base de datos!!\");\n          //console.log(error);\n          resolve(0);\n        });\n\t\t});\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/provider/estadisticas.provider.ts","import { Component } from '@angular/core';\nimport { NavController, MenuController, Platform } from 'ionic-angular';\nimport { ClienteListComponent } from '../clientes/cliente-list.component';\nimport { ParteListComponent } from '../parte/parte-list.component';\nimport { ClienteEditarComponent } from '../clientes/cliente-editar.component';\nimport { SettingsComponent } from '../settings-component/settings-component';\nimport { VariosService } from '../../service/varios.service';\nimport { SettingsService } from '../../service/settings.service';\nimport 'rxjs/Rx';\nimport { File } from '@ionic-native/file';\nimport { EstadisticasPage } from './../estadisticas/estadisticas';\n\n\ndeclare var AdMob: any;\ndeclare var navigator: any;\ndeclare var Connection: any;\ndeclare var cordova: any;\n\n\n@Component({\n\ttemplateUrl: 'home.html',\n})\n\nexport class HomePage {\n\tpublic dia: string;\n\t// public online: boolean;\n\tprivate admobId: any;\n\tprivate platform: Platform;\n\n\n\n\tconstructor(private navCtrl: NavController, private menu: MenuController, private v: VariosService,\n\t\tplatform: Platform, private settings: SettingsService, private file: File) {\n\n\t\t//inicialización de variables\n\t\tthis.menu.enable(true);\n\t\tthis.dia = v.getNowDate();\n\t\tthis.platform = platform;\n\n\t\t//seteo ids para anuncios según plataforma\n\t\tif (/(android)/i.test(navigator.userAgent)) {\n\t\t\tthis.admobId = {\n\t\t\t\tbanner: 'ca-app-pub-2437670687236295/4965506279',\n\t\t\t\t//interstitial: 'ca-app-pub-jjj/kkk'\n\t\t\t};\n\t\t} else if (/(ipod|iphone|ipad)/i.test(navigator.userAgent)) {\n\t\t\tthis.admobId = {\n\t\t\t\tbanner: 'ca-app-pub-2437670687236295/1732838274',\n\t\t\t};\n\t\t}\n\n\t}\n\tcreateBanner() {\n\t\tconst muestroanuncios: boolean = true; // Elijo si quiero anuncios o no\n\t\t// console.log(\"Connection \" + this.online.toString() + \". No creo el banner\"); \n\t\tthis.platform.ready().then(() => {\n\t\t\tif (AdMob && muestroanuncios) {\n\t\t\t\tconsole.log(\"Creo el banner\");\n\t\t\t\tconsole.log('AdMob disponible');\n\t\t\t\tAdMob.createBanner({\n\t\t\t\t\tadId: this.admobId.banner,\n\t\t\t\t\tautoShow: true,\n\t\t\t\t\tposition: AdMob.AD_POSITION.BOTTOM_CENTER\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad');\n\n\t\tif (/(ipod|iphone|ipad|android)/i.test(navigator.userAgent)) {\n\t\t\tthis.platform.ready().then(() => {\n\t\t\t\tconsole.log('Platform ready');\n\t\t\t\tconsole.log(this.platform);\n\t\t\t\tthis.createBanner();\n\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tclientelist() {\n\t\tthis.navCtrl.push(ClienteListComponent);\n\t}\n\tpartelist() {\n\t\tthis.navCtrl.push(ParteListComponent);\n\t}\n\tclienteedit() {\n\t\tthis.navCtrl.push(ClienteEditarComponent);\n\t}\n\testadisticasmostrar() {\n\t\tthis.navCtrl.push(EstadisticasPage);\n\t}\n\n\ttest() {\n\t\tconsole.log('test');\n\t\tthis.file.listDir(cordova.file.applicationStorageDirectory, 'databases').then(\n\t\t\t(files) => {\n\t\t\t\tconsole.log('applicationStorageDirectory');\n\t\t\t\tconsole.log(files);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.log('error');\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t);\n\n\t}\n\n\n\tshowSettings() {\n\t\tthis.navCtrl.push(SettingsComponent);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","export class Cliente{\n    public id: number;\n    public nombre: string;\n    public personaContacto: string;\n    public telefono: string;\n    public telefono2: string;\n    public email: string;\n    public direccion: string;\n    public poblacion: string;\n    public provincia: string;\n    public cif: string;\n    public observaciones: string;\n    \n    \n    constructor(){\n      this.nombre=\"\";\n      this.personaContacto=\"\";\n      this.telefono=\"\";\n      this.telefono2=\"\";\n      this.email=\"\";\n      this.direccion=\"\";\n      this.poblacion=\"\";\n      this.provincia=\"\";\n      this.cif=\"\";\n      this.observaciones=\"\";\n      \n      \n    }\n    /**Funcion estatica que inicializa un objecto de tipo parte en base a los\n     * valores de un objeto pasado.\n     */\n    static inicializa(values:Object) {\n        // console.log(\"parte.inicializa\");\n        // console.log(values);\n        try {\n            let cliente = new Cliente();\n            // console.log(\"parte inicializado a null\")\n            for(let p in values){\n                if(Object.getOwnPropertyDescriptor(values, p)!=undefined ){\n                   cliente[p] = values[p];\n                }\n            }\n            // console.log(\"parte despues del for\")\n            // console.log(parte);\n            return cliente;\n        } catch (error) {\n            alert (\"Cliente.inicializa \" + error);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/cliente.ts","export class Parte{\n    public id: number;\n    public clienteid: number;\n    public fecha: string;\n    public horaini: string;\n    public horafin: string;\n    public trabajorealizado: string;\n    public personafirma: string;\n    public firma: string;\n    public nombre: string;\n\n    constructor(){\n      this.trabajorealizado=\"\";\n      this.personafirma=\"\";\n    }\n    /** Getter para devolver la fecha en un formato legible y no en formato ISO\n     * como se guarda en la base de datos.\n     */\n    get fechaformato():string {\n         //console.log(\"fecha\");\n         let f = new Date(this.fecha);\n\n         //console.log(f.toLocaleDateString());\n        return f.toLocaleDateString();\n    }\n    get horainiformato():string{\n         let hi = new Date(this.horaini);\n         hi.setHours(hi.getHours(),hi.getMinutes()-(hi.getTimezoneOffset()*-1));\n         return hi.toLocaleTimeString();\n    }\n    get horafinformato():string{\n         let hf = new Date(this.horafin);\n         hf.setHours(hf.getHours(),hf.getMinutes()-(hf.getTimezoneOffset()*-1));\n         return hf.toLocaleTimeString();\n    }\n\n    /**Devuelve la firma en base64 (formato concreto que pide el plugin de cordova)\n     * para poder insertarla en el email.\n     * */\n    get firmaBase64():string{\n        if(this.firma!=null){\n            return this.firma.replace(\"data:image/png;base64,\",\"base64:firma.png//\");\n        }\n        return '';\n    }\n\n    /**Funcion estatica que inicializa un objecto de tipo parte en base a los\n     * valores de un objeto pasado.\n     */\n    static inicializa(values:Object) {\n        // console.log(\"parte.inicializa\");\n        // console.log(values);\n        try {\n            let parte= new Parte();\n            // console.log(\"parte inicializado a null\")\n            // console.log(parte);\n            for(let p in values){\n                // console.log(p);\n                // console.log(Object.getOwnPropertyDescriptor(values, p));\n                if(Object.getOwnPropertyDescriptor(values, p)!=undefined ){\n                   parte[p] = values[p];\n                }\n            }\n            // console.log(\"parte despues del for\")\n            // console.log(parte);\n            return parte;\n        } catch (error) {\n            alert (\"Parte.inicializa \" + error);\n        }\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/parte.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { ParteService } from '../../service/parte.service';\nimport { Photo } from '../../model/photo';\n\n/*\n  Generated class for the ParteFotos page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-parte-fotos',\n  templateUrl: 'parte-fotos.html'\n})\nexport class ParteFotosPage {\n  parteid: number;\n  rows: Array<number>;\n  fotos: Array<Photo>;\n  imagen: string; //imagen seleccionada para verla en grande\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public parteService: ParteService) {\n    this.parteid = navParams.get('parteid');\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ParteFotosPage');\n    this.getFotos();\n  }\n\n  getFotos() {\n    this.fotos = [];\n    this.parteService.cargaFotosParte(this.parteid).then((data) => {\n      if (data.rows.length > 0) {\n        for (let i = 0; i < data.rows.length; i++) {\n          this.fotos[i] = Photo.inicializa(data.rows.item(i));\n        }\n      }\n    }).catch((error) => {\n      console.log('error cargando la fotos para mostrarlas');\n    });\n  }\n  borrarFoto(index: any) {\n    this.parteService.borraFoto(index);\n    this.getFotos();\n    let el = document.getElementById(index);\n    el.parentNode.removeChild(el);\n  }\n  comparte() {\n    if (this.fotos && this.fotos.length > 0)\n      this.parteService.sharePhoto(this.fotos, this.parteid, \"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/parte/parte-fotos.ts","import { Component } from '@angular/core';\nimport { NavController,Platform } from 'ionic-angular';\nimport { SettingsService } from '../../service/settings.service';\nimport { Settings } from '../../model/settings';\nimport { VariosService } from '../../service/varios.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\nvar f: any;\ndeclare var cordova: any;\n/*\n  Generated class for the SettingsComponent page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-settings-component',\n  templateUrl: 'settings-component.html'\n})\nexport class SettingsComponent {\n  settings: Settings;\n  serie:string;\n  logo: string;\n  path: string;\n\n  constructor(public navCtrl: NavController, private s: SettingsService, private v: VariosService,private platform: Platform, private camera: Camera, private transfer: FileTransfer, private file: File) {\n    this.logo = \"\";\n  }\n  \n\n  ionViewDidLoad() {\n    this.platform.ready().then(\n      (ok)=>{\n          console.log(\"inicializo FileTransfer\");\n          if(this.platform.is('cordova')){\n            console.log('cordova');\n            f = this.transfer.create();\n          }\n      },\n      (err)=>{\n          console.log(\"Error al inicalizar FileTransfer\");\n      }\n    );\n    if(this.platform.is('android')){\n      this.path = cordova.file.externalDataDirectory;\n    }\n    if(this.platform.is('ios')){ \n      this.path = cordova.file.dataDirectory;\n    }\n    this.path = this.path +  'logo' + (Math.random()*10).toString() + '.jpg';\n  }\n  ionViewCanEnter(){\n    //Aunque el método estatico inicializa devuelve un objeto de tipo Settigs,\n    //creo el objeto y llamo al constructor para que debido al asyncronismo\n    //no sea null en cas de cargar el formulario antes de haber devuelto el objeto\n    this.settings=new Settings();\n    this.s.getData().then((data)=>{\n      let tmp = JSON.parse(data);\n      this.settings=Settings.inicializa(tmp);\n      this.serie = this.settings.serie;\n      this.logo = this.settings.imagenBase64;\n      console.log(this.settings);\n    });\n  }\n  submitForm(){\n    console.log(\"Guardando settings\");\n    this.settings.imagen=this.logo;\n    this.settings.imagenBase64=this.logo;\n    console.log(this.settings);\n    this.s.save(this.settings);\n    this.v.showToast(\"Configuración Guardada\",\"top\");\n    this.navCtrl.pop();\n  }\n  removeImage(){\n    this.logo = \"\";\n  }\n  getCamera(){\n    // let imageData: string = \"https://dl.dropboxusercontent.com/u/960415/p-selfi.jpg\";\n    // let self = this;\n    // this.v.imgToBase64(imageData,function(res){\n    //         self.logo = res;\n    //       },'image/jpeg',100);\n\n    let options= {\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      correctOrientation: true,\n      targetWidth: 100\n    }\n    this.camera.getPicture(options).then(\n      (imageData) => {\n          console.log('obteniendo imagen');\n          console.log(imageData);\n          let self  = this;\n          // this.v.imgToBase64(imageData,function(res){\n          //   self.logo = res;\n          // },'image/jpeg',100);\n        }, \n        (err) => {\n          console.log(\"Error al capturar imagen\");\n          console.log(err);\n        }\n    );\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings-component/settings-component.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { SocialSharing } from '@ionic-native/social-sharing';\nimport { EmailComposer } from '@ionic-native/email-composer';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Camera } from '@ionic-native/camera';\nimport { EstadisticasService } from './../service/estadisticas.service';\nimport { EstadisticasPage } from './../pages/estadisticas/estadisticas';\nimport { EstadisticasProvider } from './../provider/estadisticas.provider';\nimport { NgModule,ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule,IonicErrorHandler} from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { ClienteListComponent } from '../pages/clientes/cliente-list.component';\nimport { ClienteEditarComponent } from '../pages/clientes/cliente-editar.component';\nimport { ParteListComponent } from '../pages/parte/parte-list.component';\nimport { ParteEditarComponent } from '../pages/parte/parte-editar.component';\nimport { ParteFotosPage } from '../pages/parte/parte-fotos';\nimport { VariosService } from '../service/varios.service';\nimport { ParteService } from '../service/parte.service';\nimport { ClienteService } from '../service/cliente.service';\nimport { SettingsService } from '../service/settings.service';\nimport { SettingsComponent } from '../pages/settings-component/settings-component';\nimport {SignaturePadModule} from 'angular2-signaturepad';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\nimport { DatabaseProvider } from '../provider/database.provider';\nimport { ElasticModule } from 'angular2-elastic';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { File } from '@ionic-native/file';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    ParteListComponent,\n    ParteFotosPage,\n    ClienteListComponent,\n    ClienteEditarComponent,\n    ParteEditarComponent,\n    SettingsComponent,\n    EstadisticasPage,\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp,{\n      backButtonText: \"Atras\",\n    }),SignaturePadModule, ElasticModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    ClienteListComponent,\n    ClienteEditarComponent,\n    ParteListComponent,\n    ParteFotosPage,\n    ParteEditarComponent,\n    EstadisticasPage,\n    SettingsComponent\n  ],\n  providers: [VariosService,\n    ClienteService,\n    ParteService,\n    EstadisticasService,\n    ScreenOrientation,\n    EstadisticasProvider,\n    SQLite,\n    FileTransfer,\n    File,\n    DatabaseProvider,\n    SettingsService,\n    FileTransferObject,\n    SocialSharing,\n    EmailComposer,\n    SplashScreen,\n    Camera,\n    StatusBar,\n    Keyboard,\n    NativeStorage,\n    IonicStorageModule,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}]\n})\nexport class AppModule {\n  constructor(){\n\n      }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"./af\": 246,\n\t\"./af.js\": 246,\n\t\"./ar\": 247,\n\t\"./ar-dz\": 248,\n\t\"./ar-dz.js\": 248,\n\t\"./ar-kw\": 249,\n\t\"./ar-kw.js\": 249,\n\t\"./ar-ly\": 250,\n\t\"./ar-ly.js\": 250,\n\t\"./ar-ma\": 251,\n\t\"./ar-ma.js\": 251,\n\t\"./ar-sa\": 252,\n\t\"./ar-sa.js\": 252,\n\t\"./ar-tn\": 253,\n\t\"./ar-tn.js\": 253,\n\t\"./ar.js\": 247,\n\t\"./az\": 254,\n\t\"./az.js\": 254,\n\t\"./be\": 255,\n\t\"./be.js\": 255,\n\t\"./bg\": 256,\n\t\"./bg.js\": 256,\n\t\"./bn\": 257,\n\t\"./bn.js\": 257,\n\t\"./bo\": 258,\n\t\"./bo.js\": 258,\n\t\"./br\": 259,\n\t\"./br.js\": 259,\n\t\"./bs\": 260,\n\t\"./bs.js\": 260,\n\t\"./ca\": 261,\n\t\"./ca.js\": 261,\n\t\"./cs\": 262,\n\t\"./cs.js\": 262,\n\t\"./cv\": 263,\n\t\"./cv.js\": 263,\n\t\"./cy\": 264,\n\t\"./cy.js\": 264,\n\t\"./da\": 265,\n\t\"./da.js\": 265,\n\t\"./de\": 266,\n\t\"./de-at\": 267,\n\t\"./de-at.js\": 267,\n\t\"./de-ch\": 268,\n\t\"./de-ch.js\": 268,\n\t\"./de.js\": 266,\n\t\"./dv\": 269,\n\t\"./dv.js\": 269,\n\t\"./el\": 270,\n\t\"./el.js\": 270,\n\t\"./en-au\": 271,\n\t\"./en-au.js\": 271,\n\t\"./en-ca\": 272,\n\t\"./en-ca.js\": 272,\n\t\"./en-gb\": 273,\n\t\"./en-gb.js\": 273,\n\t\"./en-ie\": 274,\n\t\"./en-ie.js\": 274,\n\t\"./en-nz\": 275,\n\t\"./en-nz.js\": 275,\n\t\"./eo\": 276,\n\t\"./eo.js\": 276,\n\t\"./es\": 56,\n\t\"./es-do\": 277,\n\t\"./es-do.js\": 277,\n\t\"./es.js\": 56,\n\t\"./et\": 278,\n\t\"./et.js\": 278,\n\t\"./eu\": 279,\n\t\"./eu.js\": 279,\n\t\"./fa\": 280,\n\t\"./fa.js\": 280,\n\t\"./fi\": 281,\n\t\"./fi.js\": 281,\n\t\"./fo\": 282,\n\t\"./fo.js\": 282,\n\t\"./fr\": 283,\n\t\"./fr-ca\": 284,\n\t\"./fr-ca.js\": 284,\n\t\"./fr-ch\": 285,\n\t\"./fr-ch.js\": 285,\n\t\"./fr.js\": 283,\n\t\"./fy\": 286,\n\t\"./fy.js\": 286,\n\t\"./gd\": 287,\n\t\"./gd.js\": 287,\n\t\"./gl\": 288,\n\t\"./gl.js\": 288,\n\t\"./gom-latn\": 289,\n\t\"./gom-latn.js\": 289,\n\t\"./he\": 290,\n\t\"./he.js\": 290,\n\t\"./hi\": 291,\n\t\"./hi.js\": 291,\n\t\"./hr\": 292,\n\t\"./hr.js\": 292,\n\t\"./hu\": 293,\n\t\"./hu.js\": 293,\n\t\"./hy-am\": 294,\n\t\"./hy-am.js\": 294,\n\t\"./id\": 295,\n\t\"./id.js\": 295,\n\t\"./is\": 296,\n\t\"./is.js\": 296,\n\t\"./it\": 297,\n\t\"./it.js\": 297,\n\t\"./ja\": 298,\n\t\"./ja.js\": 298,\n\t\"./jv\": 299,\n\t\"./jv.js\": 299,\n\t\"./ka\": 300,\n\t\"./ka.js\": 300,\n\t\"./kk\": 301,\n\t\"./kk.js\": 301,\n\t\"./km\": 302,\n\t\"./km.js\": 302,\n\t\"./kn\": 303,\n\t\"./kn.js\": 303,\n\t\"./ko\": 304,\n\t\"./ko.js\": 304,\n\t\"./ky\": 305,\n\t\"./ky.js\": 305,\n\t\"./lb\": 306,\n\t\"./lb.js\": 306,\n\t\"./lo\": 307,\n\t\"./lo.js\": 307,\n\t\"./lt\": 308,\n\t\"./lt.js\": 308,\n\t\"./lv\": 309,\n\t\"./lv.js\": 309,\n\t\"./me\": 310,\n\t\"./me.js\": 310,\n\t\"./mi\": 311,\n\t\"./mi.js\": 311,\n\t\"./mk\": 312,\n\t\"./mk.js\": 312,\n\t\"./ml\": 313,\n\t\"./ml.js\": 313,\n\t\"./mr\": 314,\n\t\"./mr.js\": 314,\n\t\"./ms\": 315,\n\t\"./ms-my\": 316,\n\t\"./ms-my.js\": 316,\n\t\"./ms.js\": 315,\n\t\"./my\": 317,\n\t\"./my.js\": 317,\n\t\"./nb\": 318,\n\t\"./nb.js\": 318,\n\t\"./ne\": 319,\n\t\"./ne.js\": 319,\n\t\"./nl\": 320,\n\t\"./nl-be\": 321,\n\t\"./nl-be.js\": 321,\n\t\"./nl.js\": 320,\n\t\"./nn\": 322,\n\t\"./nn.js\": 322,\n\t\"./pa-in\": 323,\n\t\"./pa-in.js\": 323,\n\t\"./pl\": 324,\n\t\"./pl.js\": 324,\n\t\"./pt\": 325,\n\t\"./pt-br\": 326,\n\t\"./pt-br.js\": 326,\n\t\"./pt.js\": 325,\n\t\"./ro\": 327,\n\t\"./ro.js\": 327,\n\t\"./ru\": 328,\n\t\"./ru.js\": 328,\n\t\"./sd\": 329,\n\t\"./sd.js\": 329,\n\t\"./se\": 330,\n\t\"./se.js\": 330,\n\t\"./si\": 331,\n\t\"./si.js\": 331,\n\t\"./sk\": 332,\n\t\"./sk.js\": 332,\n\t\"./sl\": 333,\n\t\"./sl.js\": 333,\n\t\"./sq\": 334,\n\t\"./sq.js\": 334,\n\t\"./sr\": 335,\n\t\"./sr-cyrl\": 336,\n\t\"./sr-cyrl.js\": 336,\n\t\"./sr.js\": 335,\n\t\"./ss\": 337,\n\t\"./ss.js\": 337,\n\t\"./sv\": 338,\n\t\"./sv.js\": 338,\n\t\"./sw\": 339,\n\t\"./sw.js\": 339,\n\t\"./ta\": 340,\n\t\"./ta.js\": 340,\n\t\"./te\": 341,\n\t\"./te.js\": 341,\n\t\"./tet\": 342,\n\t\"./tet.js\": 342,\n\t\"./th\": 343,\n\t\"./th.js\": 343,\n\t\"./tl-ph\": 344,\n\t\"./tl-ph.js\": 344,\n\t\"./tlh\": 345,\n\t\"./tlh.js\": 345,\n\t\"./tr\": 346,\n\t\"./tr.js\": 346,\n\t\"./tzl\": 347,\n\t\"./tzl.js\": 347,\n\t\"./tzm\": 348,\n\t\"./tzm-latn\": 349,\n\t\"./tzm-latn.js\": 349,\n\t\"./tzm.js\": 348,\n\t\"./uk\": 350,\n\t\"./uk.js\": 350,\n\t\"./ur\": 351,\n\t\"./ur.js\": 351,\n\t\"./uz\": 352,\n\t\"./uz-latn\": 353,\n\t\"./uz-latn.js\": 353,\n\t\"./uz.js\": 352,\n\t\"./vi\": 354,\n\t\"./vi.js\": 354,\n\t\"./x-pseudo\": 355,\n\t\"./x-pseudo.js\": 355,\n\t\"./yo\": 356,\n\t\"./yo.js\": 356,\n\t\"./zh-cn\": 357,\n\t\"./zh-cn.js\": 357,\n\t\"./zh-hk\": 358,\n\t\"./zh-hk.js\": 358,\n\t\"./zh-tw\": 359,\n\t\"./zh-tw.js\": 359\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 444;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 444\n// module chunks = 0","import { EstadisticasPage } from './../pages/estadisticas/estadisticas';\nimport { Component, ViewChild } from '@angular/core';\nimport { Platform, MenuController, Nav } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { HomePage } from '../pages/home/home';\nimport { ClienteListComponent } from '../pages/clientes/cliente-list.component';\nimport { ParteListComponent } from '../pages/parte/parte-list.component';\nimport { DatabaseProvider } from '../provider/database.provider';\n\ndeclare var cordova: any;\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n\n\n  rootPage: any;\n  pages: any[];\n\n\n  @ViewChild(Nav) nav: Nav;\n  constructor(platform: Platform, private menu: MenuController, private db: DatabaseProvider, private statusBar: StatusBar) {\n    //Seteo pagina inicial\n    this.rootPage = HomePage;\n    //Seteo rutas para usar en sidemenu\n    this.pages = [\n      {\n        title: \"Inicio\",\n        component: HomePage\n      },\n      {\n        title: \"Listado de clientes\",\n        component: ClienteListComponent\n      },\n      {\n        title: \"Listado de partes\",\n        component: ParteListComponent\n      },\n      {\n        title: \"Estadisticas\",\n        component: EstadisticasPage\n      },\n    ];\n\n    platform.ready().then(() => {\n      console.log(platform.platforms());\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      //inicializa la bd creando el fichero de bd pero no la estructura.\n      this.db.dbname = \"partes1\";\n      this.db.init();\n     \n      let sqlcrearfotos: string;\n\n\n\n      this.db.query('CREATE TABLE IF NOT EXISTS cliente (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre TEXT, personaContacto TEXT, telefono TEXT, telefono2 TEXT, email TEXT, direccion TEXT, poblacion TEXT, provincia TEXT, cif TEXT, observaciones TEXT);').then(\n                    (data)=>{\n                        console.log(\"Crear tabla cliente\")\n                    },\n                    (error)=>{\n                        console.log(\"Error al crear la tabla cliente: \");\n                        console.log(error);\n                    }\n\n                );\n\n      this.db.query('CREATE TABLE IF NOT EXISTS parte (id INTEGER PRIMARY KEY AUTOINCREMENT, clienteid INTEGER CONSTRAINT fk_clienteid REFERENCES cliente (id) ON DELETE CASCADE ON UPDATE SET DEFAULT, fecha DATE NOT NULL, horaini TIME NOT NULL, horafin TIME NOT NULL, trabajorealizado TEXT, personafirma TEXT, firma TEXT);').then(\n      (success) => {\n        console.log('no existe tabla parte y la creo');\n        console.log(success);\n      },\n      (error) => {\n        console.log(\"Error al crear la tabla parte: \" + error);\n      }\n    );\n\n     \n     \n    sqlcrearfotos = \"CREATE TABLE IF NOT EXISTS fotos (id INTEGER PRIMARY KEY AUTOINCREMENT, parteid INTEGER CONSTRAINT fk_parteid REFERENCES parte (id) ON DELETE CASCADE ON UPDATE SET DEFAULT, base64 TEXT, nombre TEXT)\";\n    this.db.query(sqlcrearfotos).then(\n      success => {\n        console.log('no existe tabla foto y la creo');\n        console.log(success);\n      },\n      error => {\n        console.log('error al crear tabla fotos');\n        console.log(error);\n      }\n    );\n\n\n    });\n  }\n  openPage(p) {\n    this.menu.close();\n    console.log(p);\n    this.nav.setRoot(p.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export class Photo{\n    base64: string=\"\";\n    nombre: string=\"\";\n    id: number;\n    parteid: number;\n\n    static inicializa(values:Object) {\n        // console.log(\"parte.inicializa\");\n        // console.log(values);\n        try {\n            let parte= new Photo();\n            // console.log(\"parte inicializado a null\")\n            // console.log(parte);\n            for(let p in values){\n                // console.log(p);\n                // console.log(Object.getOwnPropertyDescriptor(values, p));\n                if(Object.getOwnPropertyDescriptor(values, p)!=undefined ){\n                   parte[p] = values[p];\n                }\n            }\n            // console.log(\"parte despues del for\")\n            // console.log(parte);\n            return parte;\n        } catch (error) {\n            alert (\"Photo.inicializa \" + error);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/photo.ts","import { Injectable } from '@angular/core';\n\ndeclare var window: any;\n\n@Injectable()\nexport class DatabaseProvider {\n\n\tpublic db: any;\n\tpublic dbname: string = 'YourDBName.db';\n\n\tconstructor() { }\n\t/**\n\t * Init - init database etc. PS! Have to wait for Platform.ready\n\t */\n\n\tinit(): Promise<any> {\n\t\tconsole.log(\"Init DatabaseProvider, a cotinuación tipo de dispositivo.\");\n\t\treturn new Promise(resolve => {\n\t\t\tif (typeof window.sqlitePlugin !== 'undefined') {\n\t\t\t\tthis.db = window.sqlitePlugin.openDatabase({ name: this.dbname, location: 'default' });\n\t\t\t\t //console.log(\"--> running on device: \", this.db);\n\t\t\t} else {\n\t\t\t\tthis.db = window.openDatabase(this.dbname, '1.0', 'Test DB', -1);\n\t\t\t\t //console.log(\"--> running in browser: \", this.db);\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * query - executes sql\n\t */\n\tquery(q: string, params?: any): Promise<any> {\n\t\tconsole.log(\"DatabaseProvider: ejecutando query() -> \"+q);\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tparams = params || [];\n\t\t\tthis.db.transaction((tx) => {\n\t\t\t\ttx.executeSql(q, params, (tx, res) => {\n\t\t\t\t\tresolve(res);\n\t\t\t\t}, (tx, err) => {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/provider/database.provider.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\nimport { VariosService } from '../service/varios.service';\n\ndeclare var cordova: any;\ndeclare var platform: any;\n\n\n@Injectable()\n\nexport class SettingsService {\n  constructor(public storage: Storage, private v: VariosService) {\n\n  }\n  getData() {\n    console.log(\"recupera settings\")\n    return this.storage.get('settings');\n  }\n\n  save(data) {\n    let newData;\n    newData = JSON.stringify(data);\n    console.log(\"Guardar settings\");\n\n    console.log(data);\n\n\n    newData = JSON.stringify(data);\n    console.log(\"Guardar settings sin b64\");\n    console.log(newData);\n    this.guardar(newData);\n  }\n  private guardar(newData) {\n    console.log('Settings.service. guardar(newData)');\n    this.storage.set('settings', newData);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/settings.service.ts","import {Component, OnInit} from '@angular/core';\nimport {NavController, NavParams,AlertController} from 'ionic-angular';\nimport {ClienteEditarComponent} from './cliente-editar.component';\nimport {ParteEditarComponent} from '../parte/parte-editar.component';\nimport {Cliente} from '../../model/cliente';\nimport {ClienteService} from '../../service/cliente.service';\nimport {VariosService} from '../../service/varios.service';\ndeclare var window;\ndeclare var cordova;\n\n@Component({\n    templateUrl: 'cliente-list.html',\n    providers:[ClienteService],\n})\nexport class ClienteListComponent implements OnInit{\n    public clientes: Cliente[];\n\n\n\n    constructor(private navCtrl: NavController,\n                private navParams: NavParams,\n                private _clienteService: ClienteService,\n                private alertCtrl: AlertController,\n                private variosService: VariosService){\n\n\n    }\n\n    ngOnInit(){\n        this.listaClientes();\n\n    }\n\n    listaClientes(){\n        console.log(\"Listado de clientes\");\n        //console.log(this._clienteService.listaClientes());\n         this._clienteService.listaClientes().then(\n            (data)=>{\n                    this.clientes=[];\n                    console.log(data.rows);\n                    if(data.rows.length>0){\n                        for (let i = 0; i < data.rows.length; i++) {\n                            let item = data.rows.item(i);\n                            this.clientes.push(Cliente.inicializa(item));\n                        }\n                    }\n                },\n                (error)=>{\n                    console.log(error);\n                }\n        );\n    }\n    cargaCliente(cliente:Cliente){\n        console.log('carga cliente');\n        this.navCtrl.push(ClienteEditarComponent,[cliente]);\n    }\n    crearCliente(){\n        console.log('crea cliente');\n        this.navCtrl.push(ClienteEditarComponent);\n    }\n    borrarCliente(id: number){\n        let confirm = this.alertCtrl.create({\n      title: 'Borrar Cliente',\n      message: 'Va a borrar un cliente. Esta acción no puede deshacerse. ¿Deesea continuar?',\n      buttons: [\n        {\n          text: 'No',\n          handler: () => {\n            console.log('borrar NO');\n          }\n        },\n        {\n          text: 'Si',\n          handler: () => {\n            console.log('borrar SI');\n            this._clienteService.borrarCliente(id).then(\n                (data)=>{\n                    console.log(data.res);\n                    this.variosService.showToast(\"Cliente eliminado\",\"top\");\n                    this.listaClientes();\n                },\n                (error)=>{\n                    console.log(error);\n                }\n            );\n          }\n        }\n      ]\n    });\n    confirm.present();\n        \n\n    }\n    crearParte(clienteid:number,nombre:string){\n        this.navCtrl.push(ParteEditarComponent,{clienteid: clienteid,nombre: nombre })\n    }\n    llamar(telefono: string){\n        cordova.InAppBrowser.open(\"tel:\" + telefono, \"_system\", \"location=true\");\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clientes/cliente-list.component.ts","\nimport { Injectable } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { Parte } from '../model/parte';\nimport { Settings } from '../model/settings';\nimport { VariosService } from './varios.service';\nimport { SettingsService } from './settings.service';\nimport { EmailComposer } from '@ionic-native/email-composer';\nimport { File } from '@ionic-native/file';\nimport { DatabaseProvider } from '../provider/database.provider';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Photo } from '../model/photo';\n\ndeclare let jsPDF;\ndeclare var cordova: any;\n\n@Injectable()\n\nexport class ParteService {\n  private db;\n  private settings: Settings;\n  private dirFiles: string;\n\n  constructor(private _varios: VariosService, _db: DatabaseProvider, private platform: Platform, private s: SettingsService, private emailComposer: EmailComposer, private socialSharing: SocialSharing, private file: File) {\n\n    this.db = _db\n    this.dirFiles = \"\";\n    console.log(\"constructor ParteService\");\n   /* this.db.query('CREATE TABLE IF NOT EXISTS parte (id INTEGER PRIMARY KEY AUTOINCREMENT, clienteid INTEGER CONSTRAINT fk_clienteid REFERENCES cliente (id) ON DELETE CASCADE ON UPDATE SET DEFAULT, fecha DATE NOT NULL, horaini TIME NOT NULL, horafin TIME NOT NULL, trabajorealizado TEXT, personafirma TEXT, firma TEXT);').then(\n      (success) => {\n        console.log('no existe tabla parte y la creo');\n        console.log(success);\n      },\n      (error) => {\n        console.log(\"Error al crear la tabla parte: \" + error);\n      }\n    );\n\n    let sql: string;\n    sql = \"CREATE TABLE IF NOT EXISTS fotos (id INTEGER PRIMARY KEY AUTOINCREMENT, parteid INTEGER CONSTRAINT fk_parteid REFERENCES parte (id) ON DELETE CASCADE ON UPDATE SET DEFAULT, base64 TEXT, nombre TEXT)\";\n    this.db.query(sql).then(\n      success => {\n        console.log('no existe tabla foto y la creo');\n        console.log(success);\n      },\n      error => {\n        console.log('error al crear tabla fotos');\n        console.log(error);\n      }\n    );*/\n\n    //seteo directorio para guardar ficheros.\n    if (this.platform.is(\"ios\")) {\n      console.log('Directorio para ios');\n      this.dirFiles = cordova.file.tempDirectory;\n    }\n\n    if (this.platform.is(\"android\")) {\n      console.log(\"Directorio para android\");\n      this.dirFiles = cordova.file.externalDataDirectory;\n    }\n    console.log(this.dirFiles);\n  }\n\n  listaPartes() {\n    let sql: string;\n    sql = 'Select parte.*, cliente.nombre, cliente.telefono from parte inner join cliente on clienteid=cliente.id order by parte.id desc';\n    //ademas de listar los partes, aquí cargamos los settings. Si están en el constructor solo se cargan\n    //una vez de modo que si se modifican mientras la aplicación está abierto no refrescan los valores a\n    //la hora de usarlos.\n    this.s.getData().then((data) => {\n      let tmp = JSON.parse(data);\n      console.log(\"cargo valores settings\");\n      this.settings = Settings.inicializa(tmp);\n      console.log(this.settings);\n    });\n    return this.db.query(sql);\n  }\n\n  cargaFotosParte(parteid: number) {\n    let sql: string;\n    sql = 'Select * from fotos where parteid=?';\n    return this.db.query(sql, [parteid]);\n  }\n  elimina(parteid: number) {\n    let sql: string;\n    sql = 'delete from parte where id=?'\n    return this.db.query(sql, [parteid]);\n  }\n\n  actualizaParte(f, photos): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let sql: string;\n      console.log('actualizaParte()');\n\n      //datos\n      if (f.id == null) {\n        sql = \"insert into parte values (?,?,?,?,?,?,?,?)\";\n      } else {\n        sql = \"update parte set id=?,clienteid=?,fecha=?,horaini=?,horafin=?,trabajorealizado=?,personafirma=?,firma=? where id=\" + f.id;\n      }\n\n      //insert / update datos\n      this.db.query(sql, [f.id, f.clienteid, f.fecha, f.horaini, f.horafin, f.trabajorealizado, f.personafirma, f.firma]).then(\n        (data) => {\n          this._varios.showToast(\"Parte guardado correctamente\", \"top\");\n          console.log(\"Insertado parte \");\n          console.log(sql);\n          console.log(data);\n          if (f.id==null && data)\n            f.id = data.insertId\n\n        },\n      ).then( //fotos\n        (fotosData) => {\n          resolve(f.id);\n          if (photos.length == 0) {\n            console.log('photos length 0, no hay fotos para guardar');\n            return false;\n          }\n          let photosql: string = \"\";\n          console.log('vamos a guardar las fotos');\n          for (let p in photos) {\n            let obj = photos[p];\n            //id=0 indica que es una foto para insertar\n            if (obj.id == 0) {\n              photosql = \"insert into fotos values (?,?,?,?)\";\n            } else {\n              photosql = \"update fotos set id=?,parteid=?,base64=?,nombre=? where parteid=\" + f.id + \" and id=\" + obj.id;\n            }\n            //insert / update fotos\n            console.log('f.id: ' + f.id);\n            console.log(photosql);\n            this.db.query(photosql, [null, f.id, obj.base64, obj.nombre]).then(\n              (success) => {\n                console.log('Fotos guardadas correctamente');\n              },\n              (error) => {\n                console.log('Error guardando las fotos');\n                console.log(error);\n              });\n          }\n        }).catch(error => {\n          console.log(error);\n          reject(\"Error guardando el parte y las fotos\");\n        });\n    });\n  }\n\n  borraFoto(index: number) {\n    let sql: string = \"delete from fotos where id=?\";\n    this.db.query(sql, [index]).then((success) => {\n      this._varios.showToast('Foto eliminada correctamente', 'top');\n    }).catch(error => {\n      this._varios.showToast('Hubo un problema eliminado la foto', 'top', 'toastError', 200000);\n    });\n\n  }\n  enviaPorEmail(parte: Parte) {\n    //let msg:String; \n    let email;\n    var doc = new jsPDF();\n    let serieId: string;\n    console.log(\"Compruebo si el componente EmailComposer está disponible.\");\n    this.emailComposer.isAvailable().then(\n      (available) => {\n        console.log(\"Email composer disponible\");\n        console.log(\"Texto que voy a incluir en pdf\");\n        console.log(this.settings);\n        if (this.settings != undefined) {\n          console.log('settings no es undefined');\n          console.log(this.settings.serie);\n\n          if (this.settings.serie != undefined) {\n            serieId = (this.settings.serie.length > 0 ? (this.settings.serie + \"/\" + String(parte.id)) : String(parte.id));\n          } else {\n            serieId = String(parte.id);\n          }\n          if (this.settings.imagenBase64 != undefined && this.settings.imagenBase64.length > 0) {\n            doc.addImage(this.settings.imagenBase64, \"JPEG\", 140, 20);\n          }\n          console.log(\"Seteo texto a negrita\");\n          doc.setFontStyle('bold');\n          doc.text(20, 20, \"Parte de Trabajo Número \" + serieId);\n          doc.text(20, 30, \"Cliente: \" + parte.nombre);\n          doc.text(20, 40, \"Fecha: \" + parte.fechaformato);\n          doc.text(20, 50, \"Horas: \" + parte.horainiformato + ' a ' + parte.horafinformato);\n\n          if (this.settings.tecnico != undefined)\n            doc.text(20, 60, \"Le atendió: \" + this.settings.tecnico);\n\n          doc.text(20, 70, \"Trabajo Realizado\");\n          console.log(\"seteo fuente a normal\");\n          doc.setFontStyle('normal');\n          console.log(\"parte.trabajorealizado -> \" + (parte.trabajorealizado == null ? \"\" : parte.trabajorealizado));\n          console.log(\"parto el texto trabajorealizado en lineas \");\n          doc.text(20, 80, doc.splitTextToSize((parte.trabajorealizado == null ? \"\" : parte.trabajorealizado), 180));\n\n          console.log(\"compruebo si hay firma\");\n          if (parte.firma != null) {\n            doc.setFontStyle('bold');\n            doc.text(20, 200, \"Firmado por: \");\n            doc.setFontStyle('normal');\n            if (parte.personafirma != null)\n              doc.text(20, 210, parte.personafirma);\n            console.log(\"añado la firma al pdf\");\n            doc.addImage(parte.firma, 'PNG', 20, 220, 50, 50);\n          }\n          doc.setFontSize(8);\n          let tmpText: string;\n          tmpText = \"\";\n\n          if (this.settings != undefined) {\n            if (this.settings.empresa != null)\n              tmpText = this.settings.empresa + \"  \";\n            if (this.settings.cif != null)\n              tmpText = tmpText + this.settings.cif + \"  \";\n            if (tmpText != \"\")\n              doc.text(20, 275, \"Empresa proveedora de servicios: \" + tmpText);\n          }\n\n          console.log(\"guardo el contenido del pdf (blob) en una variable\");\n          let pdfOutput = doc.output('blob');\n\n          //preparamos el email según lleve o no adjunto (firma)\n          if (this.platform.is(\"cordova\")) {\n            console.log('Creo el pdf');\n            let tmpNom: string = Math.random().toString().replace('.', '');\n            tmpNom = tmpNom + 'partesTrabajoPdf.pdf';\n\n            tmpNom = 'partesTrabajoPdf.pdf';\n            this.file.writeFile(this.dirFiles, tmpNom, pdfOutput, { replace: true }).then(\n              (ok) => {\n                console.log(\"fichero guardado en \" + this.dirFiles);\n                console.log(ok);\n                email = {\n                  to: '',\n                  subject: 'Parte de trabajo nº ' + serieId,\n                  body: <any>\"Adjuntamos su parte de trabajo\",\n                  isHtml: true,\n                  attachments: [this.dirFiles + tmpNom]\n                };\n\n                this.emailComposer.open(email).then(\n                  (sended) => {\n                    console.log(\"email enviado \");\n                    console.log(sended);\n                    this._varios.showToast(\"Email enviado\", \"top\");\n                  },\n                  (error) => {\n                    console.log(\"error enviando mensaje \");\n                    this._varios.showToast(\"Se produjo un error al enviar el Email\", \"top\");\n                    console.log(error);\n                  }\n                );\n              },\n              (err) => {\n                console.log(\"error al guardar el fichero\");\n                console.log(err);\n              }\n            );\n          } else {\n            console.log(\"pdf(): cordova no disponible\");\n          }\n        }\n      },\n      (error) => {\n        console.log(\"EmailComposer no está disponible\");\n        console.log(\"EmailComposer: \");\n        console.log(error);\n      }\n    );\n\n  }\n\n  sharePhoto(photos: Array<Photo>, idParte: number, nomcliente: string) {\n\n    let body = \"Cliente: \" + nomcliente;\n    let subject = \"Foto del parte: \" + idParte;\n    let imgB64Ray: Array<any> = [];\n    body += \" - Parte nº \" + idParte;\n\n    console.log(\"fotos recibida\");\n    for (let photo of photos) {\n      //añado cada foto a un array\n      let tmpB64 = photo.base64.split(\",\");\n      imgB64Ray.push({ 'nombre': photo.nombre, 'base64': tmpB64[1] });\n    }\n\n    //guardo las imagenes en un directorio para enviarlas luego\n    this.imgToArrayAndSave(imgB64Ray).then((data) => {\n      console.log('Procedo a compartir');\n      return (data);\n    }).then((data) => {\n      console.log(data);\n      this.socialSharing.share(body, subject, data).then(\n        res => {\n          console.log('Comparto');\n          console.log(res);\n        }\n      ).catch(error => {\n        console.log('error compartiendo');\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log('Error');\n      console.log(error);\n    });\n  }\n\n  private imgToArrayAndSave(imgB64Ray): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let imgRay: Array<string>;\n      imgRay = [];\n\n      for (let img of imgB64Ray) {\n        let obj = this._varios.base64toBlob(img.base64, 'image\\jpg');\n        let preNombre = Math.random().toString().replace('.', '');\n        let nomTmp: string = preNombre + img.nombre + '.jpg';\n        imgRay.push(this.dirFiles + \"/\" + nomTmp);\n\n        this.file.writeFile(this.dirFiles, nomTmp, obj, { replace: true }).then(success => {\n          console.log('fichero guardado');\n          console.log(success);\n        }).catch(error => {\n          console.log('error al guardar el fichero');\n          reject(error);\n          console.log(error);\n        });\n      }\n      resolve(imgRay);\n      console.log('fin for');\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/parte.service.ts","import { Component } from '@angular/core';\nimport { NavController,AlertController } from 'ionic-angular';\nimport {ParteService} from '../../service/parte.service';\nimport {VariosService} from '../../service/varios.service';\nimport {ParteEditarComponent} from './parte-editar.component';\nimport {Parte} from '../../model/parte';\n\n\n@Component({\n  templateUrl: 'parte-list.component.html',\n  //providers: [ParteService,VariosService]\n})\nexport class ParteListComponent {\n  \n  public partes:any[];\n  \n  constructor(private navCtrl: NavController, private parteService: ParteService,\n  private varios: VariosService, private alertCtrl: AlertController) {\n    this.listadoPartes();\n  }\n \n  listadoPartes(){\n    this.parteService.listaPartes().then(\n      (data)=>{\n        console.log('cargando partes');\n       // console.log('Encontrados '+data.rows.length+' partes');\n        this.partes=[];\n\n        if(data.rows.length>0){\n          for (let i = 0; i < data.rows.length; i++) {\n                let item = data.rows.item(i);\n                this.partes.push(Parte.inicializa(item));\n              \n                }\n           return this.partes;        \n        }\n      },\n      (error)=>{\n        console.log(\"Error cargando los partes \"  +  error.message);\n      }\n    ).catch((error)=>{\n      console.log(\"Error cargando en listadoPartes \"  +  error.message);\n    }).then((res)=>{console.log(res)});\n  }\n  \n  cargaParte(parte:Parte){\n    this.navCtrl.push(ParteEditarComponent,[parte]);\n  }\n  crearParte(clienteid:number){\n    console.log('crearParte()');\n    this.navCtrl.push(ParteEditarComponent);\n  }\n\n  eliminaParte(parteid: number){\n\n     let confirm = this.alertCtrl.create({\n      title: 'Borrar Parte',\n      message: 'Va a borrar el parte de trabajo. Esta acción no puede deshacerse. ¿Desea continuar?',\n      buttons: [\n        {\n          text: 'No',\n          handler: () => {\n            console.log('borrar NO');\n          }\n        },\n        {\n          text: 'Si',\n          handler: () => {\n            console.log('borrar SI');\n            this.parteService.elimina(parteid).then((data)=>{\n              this.varios.showToast(\"Parte Eliminado\",\"top\");\n              this.listadoPartes();\n            });\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n  enviarEmail(parte: Parte){\n    console.log('envia email');\n    this.parteService.enviaPorEmail(parte);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/parte/parte-list.component.ts"],"sourceRoot":""}